<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <script type="text/javascript">
//<![CDATA[
var skinlang= {
"fr" : {
"title" : "Gestion de l'authentification",
"nick" : "vous êtes identifié sous le compte &NICK&",
"nonick" : "vous n'êtes pas identifié",
"executetime" : "Cette page a été générée en &TIME&s.",
"snapshot" : "Snapshot: &SNAPSHOT&",
"source" : "source",
"edit" : "edit",
"note" : "<b>Note</b> : ",
"template" : "template:"}};
//]]>
</script>
    <script src="../auth/priv.js" type="text/javascript"></script>
    <script src="../auth/floatwin.js" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
function validxhtml()
{
  http = new XMLHttpRequest();
  http.open("GET",document.baseURI, false);
  http.send(null);

  document.getElementById('fragment').value=http.responseText;
  document.getElementById('formid').submit();
  return true;
}


lang=bestlang('fr',skinlang);

function jsgetuser(loggedin,notloggedin)
{
  var user=getuser();
  
  if(user!="")
      txt=skinlang[lang][loggedin];
    else  
      txt=skinlang[lang][notloggedin];
  
      
  txt=txt.replace(/&USER&/,user);    
  txt=txt.replace(/&NICK&/,getnick());    
  
  document.write(txt);
}

function dskin(name,param)
{
  if (!skinlang[lang][name])
    {
      doucment.write("unknown message to display: "+name+" ");
      return;
    }
  message=skinlang[lang][name];  
  if (param)  
    {
      for (var paramname in param)  
        {
          message=message.replace(paramname,param[paramname]);
        }
      
    }
  document.write(message);
}
   
//]]>
</script>

    
    <title>Gestion de l'authentification</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="imagetoolbar" content="no" />
    <meta http-equiv="X-UA-Compatible" content="IE=8" /> 
    <link rel="stylesheet" type="text/css" href="../auth/reset.css" />
    <link rel="stylesheet" type="text/css" href="../skins/default.css" />
    <link rel="stylesheet" type="text/css" href="doc.css" />
    
    <link rel="stylesheet" type="text/css" href="../skins/classic/skin.css" />
    
    <script src="../skins/classic/skin.js" type="text/javascript"></script>
    <script src="../auth/dump.js" type="text/javascript"></script>
    
</head>
<body >
<div>
<div style="height: 64px;
	    width: 100%;
	    background-image: url(../skins/classic/top_bg.png);"
><img src="../skins/classic/templeet.jpg" alt="templeet" /></div>
<img src="../skins/classic/pix.png" style="display: block; height: 1px; width: 100%;" alt="pix" />
<div >

           
<div style="position:relative;">
<table><tr style="">
  <td id="cond_00_home" style="">
     <div id="menu_00_home" class="menu_item" >
     <div id="submenu_00_home" class="submenu">
  <table><tr style="">
  <td id="cond_20_admin" style="">
     <div id="menu_20_admin" class="menu_item" >
     <div id="submenu_20_admin" class="submenu">
  <table><tr style="">
  <td id="cond_40_newuser" style="">
     <div id="menu_40_newuser" class="menu_item" >
     
        
     
<div id="tpopup_40_newuser_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_40_newuser_fr','popup_40_newuser_fr',1,event)" 
onmouseout="popup_info('tpopup_40_newuser_fr','popup_40_newuser_fr',0,event)"
                 
                 style="">     
            <a href="/archive/auth/newuser.html"><img
                  id="icon_40_newuser_fr"
                  alt="icon_40_newuser_fr"
                  src="/archive/auth/icons/new-user.png"
                  /></a>
<div id="popup_40_newuser_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Création d'un nouvel utilisateur</div> 
</div>

  
     </div>
</td>

    
<td id="cond_60_editpriv" style="">
     <div id="menu_60_editpriv" class="menu_item" >
     
        
     
<div id="tpopup_60_editpriv_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_60_editpriv_fr','popup_60_editpriv_fr',1,event)" 
onmouseout="popup_info('tpopup_60_editpriv_fr','popup_60_editpriv_fr',0,event)"
                 
                 style="">     
            <a href="/archive/auth/privedit.html"><img
                  id="icon_60_editpriv_fr"
                  alt="icon_60_editpriv_fr"
                  src="/archive/auth/icons/privileges.png"
                  /></a>
<div id="popup_60_editpriv_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Edition des privilèges des utilisateurs.</div> 
</div>

  
     </div>
</td>

    
<td id="cond_70_area" style="">
     <div id="menu_70_area" class="menu_item" >
     
        
     
<div id="tpopup_70_area_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_70_area_fr','popup_70_area_fr',1,event)" 
onmouseout="popup_info('tpopup_70_area_fr','popup_70_area_fr',0,event)"
                 
                 style="">     
            <a href="/archive/auth/areaedit.html"><img
                  id="icon_70_area_fr"
                  alt="icon_70_area_fr"
                  src="/archive/auth/icons/editarea.png"
                  /></a>
<div id="popup_70_area_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Gestion des zones.</div> 
</div>

  
     </div>
</td>

    
<td id="cond_75_configuration" style="">
     <div id="menu_75_configuration" class="menu_item" >
     <div id="submenu_75_configuration" class="submenu">
  <table><tr style="">
  <td id="cond_10_authmethod" style="">
     <div id="menu_10_authmethod" class="menu_item" >
     
        
     
<div id="tpopup_10_authmethod_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_10_authmethod_fr','popup_10_authmethod_fr',1,event)" 
onmouseout="popup_info('tpopup_10_authmethod_fr','popup_10_authmethod_fr',0,event)"
                 
                 style="">     
            <a href="/archive/auth/method.html"><img
                  id="icon_10_authmethod_fr"
                  alt="icon_10_authmethod_fr"
                  src="/archive/auth/icons/authmethod.png"
                  /></a>
<div id="popup_10_authmethod_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Méthode d'authentification.</div> 
</div>

  
     </div>
</td>

    
<td id="cond_15_accountvalid" style="">
     <div id="menu_15_accountvalid" class="menu_item" >
     
        
     
<div id="tpopup_15_accountvalid_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_15_accountvalid_fr','popup_15_accountvalid_fr',1,event)" 
onmouseout="popup_info('tpopup_15_accountvalid_fr','popup_15_accountvalid_fr',0,event)"
                 
                 style="">     
            <a href="/archive/auth/confvalid.html"><img
                  id="icon_15_accountvalid_fr"
                  alt="icon_15_accountvalid_fr"
                  src="/archive/auth/icons/validaccount.png"
                  /></a>
<div id="popup_15_accountvalid_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Validation des comptes.</div> 
</div>

  
     </div>
</td>

    
<td id="cond_20_info" style="">
     <div id="menu_20_info" class="menu_item" >
     
        
     
<div id="tpopup_20_info_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_20_info_fr','popup_20_info_fr',1,event)" 
onmouseout="popup_info('tpopup_20_info_fr','popup_20_info_fr',0,event)"
                 
                 style="">     
            <a href="/archive/auth/confprofile.html"><img
                  id="icon_20_info_fr"
                  alt="icon_20_info_fr"
                  src="/archive/auth/icons/profileconf.png"
                  /></a>
<div id="popup_20_info_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Configuration du profil.</div> 
</div>

  
     </div>
</td>

    
<td id="cond_25_clearcache" style="">
     <div id="menu_25_clearcache" class="menu_item" >
     
        
     
<div id="tpopup_25_clearcache_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_25_clearcache_fr','popup_25_clearcache_fr',1,event)" 
onmouseout="popup_info('tpopup_25_clearcache_fr','popup_25_clearcache_fr',0,event)"
                 
                 style="">     
            <a href="/archive/auth/clearcache.html"><img
                  id="icon_25_clearcache_fr"
                  alt="icon_25_clearcache_fr"
                  src="/archive/auth/icons/clearcache.png"
                  /></a>
<div id="popup_25_clearcache_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Nettoyage du cache.</div> 
</div>

  
     </div>
</td>

    
<td id="cond_30_packageinstall" style="">
     <div id="menu_30_packageinstall" class="menu_item" >
     
        
     
<div id="tpopup_30_packageinstall_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_30_packageinstall_fr','popup_30_packageinstall_fr',1,event)" 
onmouseout="popup_info('tpopup_30_packageinstall_fr','popup_30_packageinstall_fr',0,event)"
                 
                 style="">     
            <a href="/archive/auth/packageinstall.html"><img
                  id="icon_30_packageinstall_fr"
                  alt="icon_30_packageinstall_fr"
                  src="/archive/auth/icons/export-pack.png"
                  /></a>
<div id="popup_30_packageinstall_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Installation de packages.</div> 
</div>

  
     </div>
</td>

    
<td id="cond_40_register" style="">
     <div id="menu_40_register" class="menu_item" >
     
        
     
<div id="tpopup_40_register_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_40_register_fr','popup_40_register_fr',1,event)" 
onmouseout="popup_info('tpopup_40_register_fr','popup_40_register_fr',0,event)"
                 
                 style="">     
            <a href="/archive/auth/configurator.html"><img
                  id="icon_40_register_fr"
                  alt="icon_40_register_fr"
                  src="/archive/auth/icons/configurator.png"
                  /></a>
<div id="popup_40_register_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Enregistrement des modules.</div> 
</div>

  
     </div>
</td>

    
<td id="cond_45_config" style="">
     <div id="menu_45_config" class="menu_item" >
     
        
     
<div id="tpopup_45_config_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_45_config_fr','popup_45_config_fr',1,event)" 
onmouseout="popup_info('tpopup_45_config_fr','popup_45_config_fr',0,event)"
                 
                 style="">     
            <a href="/archive/auth/editconfig.html"><img
                  id="icon_45_config_fr"
                  alt="icon_45_config_fr"
                  src="/archive/auth/icons/configuredb.png"
                  /></a>
<div id="popup_45_config_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Edition de votre configuration.</div> 
</div>

  
     </div>
</td>

    
<td id="cond_60_debug" style="">
     <div id="menu_60_debug" class="menu_item" >
     
        
     
<div id="tpopup_60_debug_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_60_debug_fr','popup_60_debug_fr',1,event)" 
onmouseout="popup_info('tpopup_60_debug_fr','popup_60_debug_fr',0,event)"
                 
                 style="">     
            <a href="/archive/auth/debuginfo.html"><img
                  id="icon_60_debug_fr"
                  alt="icon_60_debug_fr"
                  src="/archive/auth/icons/debuginfo.png"
                  /></a>
<div id="popup_60_debug_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Debug: informations sur votre configuration.</div> 
</div>

  
     </div>
</td>

    
</tr></table>
  
</div>
                     
        
     
<div id="tpopup_75_configuration_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_75_configuration_fr','popup_75_configuration_fr',1,event)" 
onmouseout="popup_info('tpopup_75_configuration_fr','popup_75_configuration_fr',0,event)"
                 
                 style="">     
            <img 
                  id="icon_75_configuration_fr"
                  alt="icon_75_configuration_fr"
                  src="/archive/auth/icons/configure.png"
                  />
<div id="popup_75_configuration_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Configuration de Templeet</div> 
</div>

  
     </div>
</td>

    
</tr></table>
  
</div>
                     
        
     
<div id="tpopup_20_admin_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_20_admin_fr','popup_20_admin_fr',1,event)" 
onmouseout="popup_info('tpopup_20_admin_fr','popup_20_admin_fr',0,event)"
                 
                 style="">     
            <a href="/archive/auth/index.html"><img
                  id="icon_20_admin_fr"
                  alt="icon_20_admin_fr"
                  src="/archive/auth/icons/templeetadmin.png"
                  /></a>
<div id="popup_20_admin_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Retour à la page principale de l'administration de Templeet</div> 
</div>

  
     </div>
</td>

    
<td id="cond_30_myaccount" style="">
     <div id="menu_30_myaccount" class="menu_item" >
     <div id="submenu_30_myaccount" class="submenu">
  <table><tr style="">
  <td id="cond_10_createuser" style="">
     <div id="menu_10_createuser" class="menu_item" >
     
        
     
<div id="tpopup_10_createuser_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_10_createuser_fr','popup_10_createuser_fr',1,event)" 
onmouseout="popup_info('tpopup_10_createuser_fr','popup_10_createuser_fr',0,event)"
                 
                 style="">     
            <a href="/archive/auth/createuser.html"><img
                  id="icon_10_createuser_fr"
                  alt="icon_10_createuser_fr"
                  src="/archive/auth/icons/new-user.png"
                  /></a>
<div id="popup_10_createuser_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Création d'un nouvel utilisateur</div> 
</div>

  
     </div>
</td>

    
<td id="cond_20_chpass" style="">
     <div id="menu_20_chpass" class="menu_item" >
     
        
     
<div id="tpopup_20_chpass_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_20_chpass_fr','popup_20_chpass_fr',1,event)" 
onmouseout="popup_info('tpopup_20_chpass_fr','popup_20_chpass_fr',0,event)"
                 
                 style="">     
            <a href="/archive/auth/chpass.html"><img
                  id="icon_20_chpass_fr"
                  alt="icon_20_chpass_fr"
                  src="/archive/auth/icons/key.png"
                  /></a>
<div id="popup_20_chpass_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Changement du mot de passe.</div> 
</div>

  
     </div>
</td>

    
<td id="cond_30_lostpass" style="">
     <div id="menu_30_lostpass" class="menu_item" >
     
        
     
<div id="tpopup_30_lostpass_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_30_lostpass_fr','popup_30_lostpass_fr',1,event)" 
onmouseout="popup_info('tpopup_30_lostpass_fr','popup_30_lostpass_fr',0,event)"
                 
                 style="">     
            <a href="/archive/auth/lostpass.html"><img
                  id="icon_30_lostpass_fr"
                  alt="icon_30_lostpass_fr"
                  src="/archive/auth/icons/lostpass.png"
                  /></a>
<div id="popup_30_lostpass_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Choisir un nouveau mot de passe.</div> 
</div>

  
     </div>
</td>

    
<td id="cond_40_chmail" style="">
     <div id="menu_40_chmail" class="menu_item" >
     
        
     
<div id="tpopup_40_chmail_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_40_chmail_fr','popup_40_chmail_fr',1,event)" 
onmouseout="popup_info('tpopup_40_chmail_fr','popup_40_chmail_fr',0,event)"
                 
                 style="">     
            <a href="/archive/auth/chmail.html"><img
                  id="icon_40_chmail_fr"
                  alt="icon_40_chmail_fr"
                  src="/archive/auth/icons/changemail.png"
                  /></a>
<div id="popup_40_chmail_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Changement de l'adresse email</div> 
</div>

  
     </div>
</td>

    
<td id="cond_50_chinfo" style="">
     <div id="menu_50_chinfo" class="menu_item" >
     
        
     
<div id="tpopup_50_chinfo_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_50_chinfo_fr','popup_50_chinfo_fr',1,event)" 
onmouseout="popup_info('tpopup_50_chinfo_fr','popup_50_chinfo_fr',0,event)"
                 
                 style="">     
            <a href="/archive/auth/chinfo.html"><img
                  id="icon_50_chinfo_fr"
                  alt="icon_50_chinfo_fr"
                  src="/archive/auth/icons/profile.png"
                  /></a>
<div id="popup_50_chinfo_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Changement des informations du profil.</div> 
</div>

  
     </div>
</td>

    
</tr></table>
  
</div>
                     
        
     
<div id="tpopup_30_myaccount_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_30_myaccount_fr','popup_30_myaccount_fr',1,event)" 
onmouseout="popup_info('tpopup_30_myaccount_fr','popup_30_myaccount_fr',0,event)"
                 
                 style="">     
            <a href="/archive/auth/my_account.html"><img
                  id="icon_30_myaccount_fr"
                  alt="icon_30_myaccount_fr"
                  src="/archive/auth/icons/user.png"
                  /></a>
<div id="popup_30_myaccount_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Menu utilisateur</div> 
</div>

  
     </div>
</td>

    
<td id="cond_50_doc" style="">
     <div id="menu_50_doc" class="menu_item" >
     
        
     
<div id="tpopup_50_doc_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_50_doc_fr','popup_50_doc_fr',1,event)" 
onmouseout="popup_info('tpopup_50_doc_fr','popup_50_doc_fr',0,event)"
                 
                 style="">     
            <a href="/archive/doc/index.html"><img
                  id="icon_50_doc_fr"
                  alt="icon_50_doc_fr"
                  src="/archive/menu/00_home/50_doc/manpage.png"
                  /></a>
<div id="popup_50_doc_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Documentation de Templeet</div> 
</div>

  
     </div>
</td>

    
</tr></table>
  
</div>
                     
        
     
<div id="tpopup_00_home_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_00_home_fr','popup_00_home_fr',1,event)" 
onmouseout="popup_info('tpopup_00_home_fr','popup_00_home_fr',0,event)"
                 
                 style="">     
            <a href="/archive/"><img 
                  id="icon_00_home_fr"
                  alt="icon_00_home_fr"
                  src="/archive/auth/icons/home.png"
                  /></a>
<div id="popup_00_home_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Retour à la page d'accueil</div> 
</div>

  
     </div>
</td>

    
<td id="cond_90_signout" style="">
     <div id="menu_90_signout" class="menu_item" >
     
        
     
<div id="tpopup_90_signout_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_90_signout_fr','popup_90_signout_fr',1,event)" 
onmouseout="popup_info('tpopup_90_signout_fr','popup_90_signout_fr',0,event)"
                 
                 style="">     
            <a href="/archive/auth/signout.html"><img
                  id="icon_90_signout_fr"
                  alt="icon_90_signout_fr"
                  src="/archive/auth/icons/signout.png"
                  /></a>
<div id="popup_90_signout_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Vous déconnecter.</div> 
</div>

  
     </div>
</td>

    
<td id="cond_91_signin" style="">
     <div id="menu_91_signin" class="menu_item" >
     
        
     
<div id="tpopup_91_signin_fr" class="menu_item_lang"
  onmouseover="popup_info('tpopup_91_signin_fr','popup_91_signin_fr',1,event)" 
onmouseout="popup_info('tpopup_91_signin_fr','popup_91_signin_fr',0,event)"
                 
                 style="">     
            <a href="/archive/auth/index.html"><img
                  id="icon_91_signin_fr"
                  alt="icon_91_signin_fr"
                  src="/archive/auth/icons/signin.png"
                  /></a>
<div id="popup_91_signin_fr" class="menu_info" >
<img src="/archive/auth/icons/info.png" alt="info" style="" />
Vous connecter.</div> 
</div>

  
     </div>
</td>

    
<td id="cond_95_lang" style="">
     <div id="menu_95_lang" class="menu_item" >
     <div id="submenu_95_lang" class="submenu">
               <table style="width: 210px;">
               <tr><td>
<table class="lang_select" style="width:100%;">
<tr>
<td style="width: 60px;height: 42px;text-align: center;text-decoration:none;vertical-align: middle;">
<a href="authedit.html.en" style="text-decoration:none;">
     <img 
       id="icon_50_en"
       alt="50_en"
       style="text-align: center; vertical-align: middle; border: 0px;" 
       src="/archive/menu/95_lang/50_en/en.png"
   /></a>

</td>
<td style="text-align: left;text-decoration:none;vertical-align: middle;"><a href="authedit.html.en" style="text-decoration:none;color:black;">
English</a>
</td>
</tr>
</table>
</td>
</tr>
<tr><td>
<table class="lang_select" style="width:100%;">
<tr>
<td style="width: 60px;height: 42px;text-align: center;text-decoration:none;vertical-align: middle;">
<a href="authedit.html" style="text-decoration:none;">
     <img 
       id="icon_50_fr"
       alt="50_fr"
       style="text-align: center; vertical-align: middle; border: 0px;" 
       src="/archive/menu/95_lang/50_fr/fr.png"
   /></a>

</td>
<td style="text-align: left;text-decoration:none;vertical-align: middle;"><a href="authedit.html" style="text-decoration:none;color:black;">
Français</a>
</td>
</tr>
</table>
</td>
</tr>

               </table>
</div>
                     
        
     
<div id="tpopup_95_lang_fr" class="menu_item_lang"
  
                 style="">     
            <img 
                  id="icon_95_lang_fr"
                  alt="icon_95_lang_fr"
                  src="/archive/menu/95_lang/lang.png"
                  />
 
</div>

  
     </div>
</td>

    
</tr></table>
  <script type="text/javascript">
//<![CDATA[
  if (!eval(auth_editpriv())){ document.getElementById('cond_20_admin').style.display = "none"; }
      if (!eval(getpriv("CREATEUSER")>0)){ document.getElementById('cond_40_newuser').style.display = "none"; }
      if (!eval(auth_editpriv())){ document.getElementById('cond_60_editpriv').style.display = "none"; }
      if (!eval(auth_editpriv())){ document.getElementById('cond_70_area').style.display = "none"; }
      if (!eval(getpriv("ADMIN"))){ document.getElementById('cond_75_configuration').style.display = "none"; }
      if (!eval(getpriv("CREATEUSER")>=1 && getnick()=="")){ document.getElementById('cond_10_createuser').style.display = "none"; }
      if (!eval(getnick()!="")){ document.getElementById('cond_20_chpass').style.display = "none"; }
      if (!eval(getnick()=="")){ document.getElementById('cond_30_lostpass').style.display = "none"; }
      if (!eval(getnick()!="" && !auth_emailislogin())){ document.getElementById('cond_40_chmail').style.display = "none"; }
      if (!eval(getnick()!="")){ document.getElementById('cond_50_chinfo').style.display = "none"; }
      if (!eval(getnick()!="")){ document.getElementById('cond_90_signout').style.display = "none"; }
      if (!eval(getnick()=="")){ document.getElementById('cond_91_signin').style.display = "none"; }
      
  if (document.getElementById('submenu_00_home').clientWidth<15){ document.getElementById('submenu_00_home').style.display = "none"; }
      if (document.getElementById('submenu_20_admin').clientWidth<15){ document.getElementById('submenu_20_admin').style.display = "none"; }
      if (document.getElementById('submenu_75_configuration').clientWidth<15){ document.getElementById('submenu_75_configuration').style.display = "none"; }
      if (document.getElementById('submenu_30_myaccount').clientWidth<15){ document.getElementById('submenu_30_myaccount').style.display = "none"; }
      if (document.getElementById('submenu_95_lang').clientWidth<15){ document.getElementById('submenu_95_lang').style.display = "none"; }
      
  
//]]>
</script>
</div>
  </div>
<div>
<table style="width: 100%; background: white;">
<tr><td style="width: 14px;"><img src="../skins/classic/corner_top.png" style="display: block;" alt="corner_top" /></td>
<td style="vertical-align: top;"><img src="../skins/classic/pix.png" style="width: 100%; height: 1px;display: block;" alt="pix" /></td></tr>
<tr>
<td style="background-image: url(../skins/classic/left.png);"></td>
<td>
<div class="main">
<script type="text/javascript">
//<![CDATA[
dskin("note");
//]]>
</script>
<script type="text/javascript">
//<![CDATA[
jsgetuser("nick","nonick");
//]]>
</script>
<br /><br />

<script src="../auth/priv.js" type="text/javascript"></script>
<script src="../auth/floatwin.js" type="text/javascript"></script>

<div id="doc_content">


<a id="top"></a>
<table style="width: 100%;">
  <tr>
<td style="width: 99%;"><div class="doc_title" id="doc_title">Gestion de l'authentification</div><div id="doc_header"></div><div ><div class="doc_toc" id="doc_toc"><div class="doc_toc_bloc" id="blocidtoc_1">
<div class="doc_toc_title_bloc">Interface utilisateur</div><ul id="bloculid_1">
<li id="doc_toc_entry_Principesgnraux" class="doc_toc_type_help" ><div class="doc_toc_title_entry"><a href="#Principesgnraux">Principes généraux</a></div></li>
<li id="doc_toc_entry_Mthodedauthentification" class="doc_toc_type_help" ><div class="doc_toc_title_entry"><a href="#Mthodedauthentification">Méthode d'authentification</a></div></li>
<li id="doc_toc_entry_Validationdescomptes" class="doc_toc_type_help" ><div class="doc_toc_title_entry"><a href="#Validationdescomptes">Validation des comptes</a></div></li>
</ul></div><div class="doc_toc_bloc" id="blocidtoc_2">
<div class="doc_toc_title_bloc">Fonctions de manipulation d'utilisateur</div><ul id="bloculid_2">
<li id="doc_toc_entry_auth_newuser" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_newuser">auth_newuser</a></div></li>
<li id="doc_toc_entry_auth_deluser" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_deluser">auth_deluser</a></div></li>
<li id="doc_toc_entry_auth_listuser" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_listuser">auth_listuser</a></div></li>
<li id="doc_toc_entry_auth_listuserfld" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_listuserfld">auth_listuserfld</a></div></li>
<li id="doc_toc_entry_auth_nbrows" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_nbrows">auth_nbrows</a></div></li>
<li id="doc_toc_entry_auth_list" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_list">auth_list</a></div></li>
<li id="doc_toc_entry_auth_listfld" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_listfld">auth_listfld</a></div></li>
<li id="doc_toc_entry_auth_passwd" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_passwd">auth_passwd</a></div></li>
<li id="doc_toc_entry_auth_loginnick" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_loginnick">auth_loginnick</a></div></li>
<li id="doc_toc_entry_auth_newmail" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_newmail">auth_newmail</a></div></li>
<li id="doc_toc_entry_auth_setnewmail" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_setnewmail">auth_setnewmail</a></div></li>
<li id="doc_toc_entry_auth_updateprofile" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_updateprofile">auth_updateprofile</a></div></li>
<li id="doc_toc_entry_auth_updateprivateinfo" class="doc_toc_type_pseudofunction" ><div class="doc_toc_title_entry"><a href="#auth_updateprivateinfo">auth_updateprivateinfo</a></div></li>
<li id="doc_toc_entry_auth_setprivuser" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_setprivuser">auth_setprivuser</a></div></li>
<li id="doc_toc_entry_auth_setpriv" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_setpriv">auth_setpriv</a></div></li>
<li id="doc_toc_entry_auth_emailislogin" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_emailislogin">auth_emailislogin</a></div></li>
<li id="doc_toc_entry_auth_readfields" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_readfields">auth_readfields</a></div></li>
</ul></div><div class="doc_toc_bloc" id="blocidtoc_3">
<div class="doc_toc_title_bloc">Fonctions de manipulation des zones</div><ul id="bloculid_3">
<li id="doc_toc_entry_auth_newarea" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_newarea">auth_newarea</a></div></li>
<li id="doc_toc_entry_auth_delarea" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_delarea">auth_delarea</a></div></li>
<li id="doc_toc_entry_auth_setarea" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_setarea">auth_setarea</a></div></li>
<li id="doc_toc_entry_auth_listarea" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_listarea">auth_listarea</a></div></li>
<li id="doc_toc_entry_auth_listareafld" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_listareafld">auth_listareafld</a></div></li>
</ul></div><div class="doc_toc_bloc" id="blocidtoc_4">
<div class="doc_toc_title_bloc">Fonctions de gestion de validation des comptes</div><ul id="bloculid_4">
<li id="doc_toc_entry_auth_validmode" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_validmode">auth_validmode</a></div></li>
<li id="doc_toc_entry_auth_validaccount" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_validaccount">auth_validaccount</a></div></li>
<li id="doc_toc_entry_auth_setconfvalid" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_setconfvalid">auth_setconfvalid</a></div></li>
<li id="doc_toc_entry_auth_setkeypass" class="doc_toc_type_function" ><div class="doc_toc_title_entry"><a href="#auth_setkeypass">auth_setkeypass</a></div></li>
</ul></div></div></div>

</td>
<td style="vertical-align: top;"><div id="docmenu">
<ul>
  <li><a href="index.html">Modules</a></li>
  <li><a href="functions.html">Fonctions</a></li>
</ul>
</div>

</td>
  </tr>
</table>    
<div class="doc_linktop"></div>
<div id="bloccontent"><div class="text_bloc doc_bloc" id="blocidcontent_1">
<div class="doc_entry" id="doc_entry_Principesgnraux"><div class="doc_title_entry"><a id="Principesgnraux"></a>Principes généraux</div><div id="entryid_1" class="content doc_content"><p>Le principe de fonctionnement de l'authentification Templeet est  	expliqué dans le module <a href="auth.html">auth</a>.</p>
<p>Avant toute utilisation de l'authentification de Templeet il est  	nécessaire de configurer Templeet.</p>
<p>Cette interface peut être utilisée par toute personne ayant des  	droits d'édition de privilèges, c'est à dire tous les administeurs 	ainsi que les personnes ayant un droit d'édition de zone ou un droit 	de délégation de zone.</p>
<p>La configuration de Templeet ne peut être effectuée que par un  	administrateur Templeet.</p>
<p>A l'installation de Templeet la méthode d'authentification par défaut 	est la méthode fichier (file). Un seul compte existe : ADMIN (le mot de 	passe est celui que vous indiquez à l'installation). Ce compte 	possède le privilège administrateur et permet de configurer Templeet.</p>
<p>La configuration de Templeet se fait dans l'interface d'administration avec la page accessible par cette icone:&nbsp; 	<img  src="images/image,authedit,fr,0f1c674283,.png" alt="" align="middle"></p></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_Mthodedauthentification"><div class="doc_title_entry"><a id="Mthodedauthentification"></a>Méthode d'authentification</div><div id="entryid_2" class="content doc_content"><p>Le choix de la méthode d'authentification se fait avec 	<img  src="images/image,authedit,fr,f08902614b,.png" alt="" align="middle"></p>
<p>Les méthodes actuellement disponibles sont:</p>
<ul>
<li>file: authentification par fichier<br>Cette méthode permet d'utiliser Templeet sans configurer de base de données. Son utilisation doit être réservée lorsque le nombre d'utilisateur authentifiés est faible.</li>
<li>db: authentification par base de données<br>Cette méthode peut gérer un grand nombre d'utilisateurs. Les bases de données supportées actuellement sont MySQL et PostgreSQL. Si vous souhaiter supporter d'autres base de données, faites vous connaitre sur la liste templeet-fr.</li>
</ul>
<p>&nbsp;</p>
<ul>
</ul></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_Validationdescomptes"><div class="doc_title_entry"><a id="Validationdescomptes"></a>Validation des comptes</div><div id="entryid_3" class="content doc_content"><p>Le choix du mode de validation des comptes se fait avec  	<img  src="images/image,authedit,fr,aa7a02e17f,.png" alt="" align="middle"></p>
<p>Pour être utilisable un compte doit être validé. Le mode de  	validation des comptes permet de choisir l'état d'un compte à sa  	création. Les états possibles sont:</p>
<ul>
<li><strong>Non</strong> : les comptes doivent être validés par  		un administrateur.</li>
<li><strong>Oui</strong> : les comptes sont valides  		immédiatement.</li>
<li><strong>A Confirmer</strong> : les comptes doivent être  		validés par l'utilisateur avec un code qui lui est envoyé par  		mail. Ce mode ne fonctionne que si le serveur possède un système 		de mail correctement configuré.</li>
<li><strong>Double confirmation</strong> : les comptes créés  		doivent être validés par l'utilisateur sur réception d'un mail  		contenant le code d'activation. Les comptes doivent ensuite être 		validés par un administrateur</li>
</ul>
<p>&nbsp;</p>
<ul>
</ul></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div></div><div class="text_bloc doc_bloc" id="blocidcontent_2">
<div class="doc_entry" id="doc_entry_auth_newuser"><div class="doc_title_entry"><a id="auth_newuser"></a>auth_newuser</div><div id="entryid_4" class="content doc_content"><p>Cette fonction permet de créer un nouvel utilisateur. <br>Voici la liste des arguments qu'elle accèpte :<br></p>
<ul>
<li><strong>userspace</strong> : <br> 
<ul>
<li>-1 pour créer un adminspace</li>
<li>0 pour un utilisateur normal</li>
<li>uid de l'adminspace pour créer un sous-utilisateur</li>
<li>vide pour que cela prenne automatiquement l'uid de l'adminspace connecté<br></li>
</ul>
</li>
<li><strong>user</strong> : nom du compte à créer</li>
<li><strong>password</strong> : mot de passe du compte à créer </li>
<li><strong>profile</strong> : tableau contenant les données 		 personnelles du compte</li>
<li><strong>email</strong> : adresse mail du compte</li>
<li><strong>subject</strong> : sujet du mail à envoyer</li>
<li><strong>message</strong> : message du mail à envoyer</li>
<li><strong>header</strong> : entêtes personnalisées pour le mail<br></li>
<li><strong>confirm</strong> : 1 pour forcer la validation du  		compte dès sa création</li>
<li><strong>area, niveau</strong> : couple(s) de deux arguments  		dont le premier est le nom d'une zone, et le second le niveau de 		droit qui sera attribué au compte. Il est possible d'attribuer plusieurs droits sur les zones de deux manières : <br> 
<ul>
<li>en les listant les unes après les autres : ...'ADM',5,AUTHOR,3,EDITOR,7)</li>
<li>en utilisant un tableau &#126;array('ADM'=&gt;5,'AUTHOR'=&gt;3,'EDITOR'=&gt;7)</li>
</ul>
</li>
</ul>
<p>Si la valeur de retour de la fonction est <strong>supérieur à  	0</strong>, celle-ci correspond à <strong>l'identifiant unique</strong> de  	l'utilisateur qui vient d'être créé.</p>
<p>Code d'erreur renvoyé par la fonction :</p>
<ul>
<li><strong>-3</strong> : utilisateur déja existant</li>
<li><strong>-12</strong> : erreur dans les paramètres<br></li>
</ul>
<ul>
<li><strong>-101</strong> : utilisateur ou mot de passe mal formaté</li>
<li><strong>-102</strong> : erreur lors de l'envoi du mail</li>
<li><strong>-107</strong> : privilèges insuffisants</li>
<li><strong>-113</strong> : email invalide (mal formé)</li>
<li><strong>-115</strong> : zone inexistante, ou bien vous  		n'avez pas le droit de définir les droits sur cette zone</li>
<li><strong>-126</strong> : Base des utilisateurs inconsistante, userspace non trouvé</li>
<li><strong>-200</strong> : deuxième argument manquant dans la  		définition du droit d'accès d'une zone</li>
</ul>
<p>Exemple d'utilisation de &#126;auth_newuser :</p>
<pre class="doc_code code">&#126;rem(<br>  user = 'newpseudo',<br>  password = 'password',<br>  profile =<br>    array(<br>      'Nom'=&gt;'Doe',<br>      'Prénom'=&gt;'John'<br>    ),<br>  email = 'email@templeet.org',<br>  mailHeaders = array('From'=&gt;'contact@templeet.org','Reply-To'=&gt;'contact@templeet.org','X-Sender'=&gt;'contact@templeet.org'),<br>  zones =<br>    array(<br>      'ZONE1'=&gt;5,<br>      'ZONE2'=&gt;3<br>    ),<br>  newuser =<br>    auth_newuser(<br>      0,<br>      user,<br>      password,<br>      profile,<br>      email,<br>      "Création d'un utilisateur",<br>      '<br>Bonjour,<br><br>Vous avez demandé la création d'un compte sur &#126;getconf("site_url")<br><br>Pour valider cette demande vous devez charger cette page :<br>&#126;getconf("site_url")&#126;absolute_templeet()my_account/validaccount,&#126;get("user"),&#126;get("auth_validkey").html<br>      ',<br>      mailHeaders,,<br>      zones<br>    )<br>)<br>&#126;if(newuser &gt;=0 ,<br>  'Un nouveau compte ayant &#126;get("user") comme login a bien été créé',<br>  'Un problème est survenu lors de la création de l\'utilisateur'<br>)<br></pre></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_deluser"><div class="doc_title_entry"><a id="auth_deluser"></a>auth_deluser</div><div id="entryid_5" class="content doc_content"><p>Cette fonction permet de supprimer un utilisateur.<br><br>La fonction prend un paramètre :</p>
<ul>
<li>uid : numéro uid du compte à supprimer</li>
</ul>
<p>Code d'erreur renvoyé par la fonction :</p>
<ul>
<li>-4 : vous devez avoir un droit administrateur pour effectuer cette opération</li>
<li>-105 : impossible d'utiliser cette fonction car l'utilisateur n'est pas authentifié</li>
<li>-107 : privilèges insuffisants</li>
</ul>
<p>Exemple d'utilisation de la fonction &#126;auth_deluser :</p>
<pre class="doc_code code">&#126;auth_deluser(8041247)<br></pre></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_listuser"><div class="doc_title_entry"><a id="auth_listuser"></a>auth_listuser</div><div id="entryid_6" class="content doc_content"><p>&#126;auth_listuser est une <a href="core.html#Prsentationdesfonctionsdeliste">fonction de liste</a>&nbsp; qui permet de lister les comptes utilisateurs de Templeet. Les informations relatives à ces utilisateurs sont renvoyées par la fonction &#126;auth_listuserfld.</p>
<p>La fonction prend quatre arguments plus les sélecteurs:</p>
<ul>
<li>l'environnement d'authentification (userspace)</li>
<li>l'expression de filtrage des utilisateurs</li>
<li>le numéro du premier utilisateur à lister</li>
<li>le nombre d'utilisateurs à lister</li>
<li>les sélecteurs</li>
</ul>
<p>Les sélecteurs supportés par cette fonction sont LM, LF, LL, L1, LN et LD.</p>
<p>L'expression de filtrage des utilisateurs permet de ne lister que certains utilisateurs. Le caractère '?' remplace n'importe quel caractère du nom et '*' remplace plusieurs caractères.</p>
<ul>
<li>bob permet de trouver l'utilisateur "bob"</li>
<li>bob* permet de trouver tous les utilisateurs qui commencent par "bob" (bob, bobby, bob10 ...)</li>
<li>*bob* permet de trouver tous les utilisateurs qui contiennent "bob" (bob, bobby, superbob ...)</li>
<li>bob? permet de trouver tous les utilisateurs qui commencent par "bob" ET qui ont un caractère supplémentaire quelconque (bob1, bobo mais pas bob ni bobby)</li>
</ul>
<p>Code d'erreur renvoyé par la fonction :</p>
<ul>
<li>-8 : la valeur de regexp est invalide</li>
<li>-12 : les arguments indice et nombre doivent être de type numérique</li>
<li>-103 : impossible d'utiliser cette fonction car l'utilisateur n'est pas connecté</li>
<li>-200 : erreur de paramètre</li>
<li>-1000 : erreur de requête</li>
</ul></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_listuserfld"><div class="doc_title_entry"><a id="auth_listuserfld"></a>auth_listuserfld</div><div id="entryid_7" class="content doc_content"><p>&#126;auth_listuserfld renvoie la valeur d'un champ de l'utilisateur listé par la fonction &#126;auth_listuser.</p>
<p>La fonction prend un seul argument. Celui-ci peut être :</p>
<ul>
<li>uid</li>
<li>login</li>
<li>email</li>
<li>ipaddr (adresse IP utilisée pour créer l'utilisateur)</li>
<li>creation (date de creation)</li>
<li>nickname (pseudo)</li>
<li>valid (validité du compte)</li>
<li>profile (tableau des informations de profil)</li>
</ul></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_nbrows"><div class="doc_title_entry"><a id="auth_nbrows"></a>auth_nbrows</div><div id="entryid_8" class="content doc_content"><p>Cette fonction renvoie le nombre de comptes utilisateur selectionnés par la fonction auth_listuser.</p>
<p>Exemple d'utilisation des commandes &#126;auth_listuser, &#126;auth_listuserfld et &#126;auth_nbrows :</p>
<pre class="doc_code code"> &#126;auth_listuser("", 0,,<br>&nbsp; "LF", &lt;![LF[&lt;p&gt;Nombre d'utilisateur : &#126;auth_nbrows()&lt;/p&gt;&lt;table&gt;]LF]&gt;,<br>&nbsp; "LL",&lt;![LL[&lt;/table&gt;]LL]&gt;,<br>&nbsp; "LM", &lt;![LM[<br>&nbsp; &lt;tr&gt;<br>&nbsp;&nbsp;&nbsp; &lt;td&gt;&#126;auth_listuserfld("uid")&lt;/td&gt;<br>&nbsp;&nbsp;&nbsp; &lt;td&gt;&#126;auth_listuserfld("login")&lt;/td&gt;<br>&nbsp;&nbsp;&nbsp; &lt;td&gt;&#126;auth_listuserfld("email")&lt;/td&gt;<br>&nbsp;&nbsp;&nbsp; &lt;td&gt;&#126;auth_listuserfld("ipaddr")&lt;/td&gt;<br>&nbsp;&nbsp;&nbsp; &lt;td&gt;&#126;auth_listuserfld("creation")&lt;/td&gt;<br>&nbsp;&nbsp;&nbsp; &lt;td&gt;&#126;auth_listuserfld("nickname")&lt;/td&gt;<br>&nbsp;&nbsp;&nbsp; &lt;td&gt;&#126;auth_listuserfld("valid")&lt;/td&gt;<br>&nbsp;&nbsp;&nbsp; &lt;td&gt;&lt;pre&gt;&#126;print_r(&#126;auth_listuserfld("privateinfo"))&lt;/pre&gt;&lt;/td&gt;<br>&nbsp; &lt;/tr&gt;]LM]&gt;)</pre>
<p>&nbsp;</p>
<p class="doc_warning warning">Attention : cette fonction doit être à l'intérieur de la commande &#126;auth_listuser.</p></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_list"><div class="doc_title_entry"><a id="auth_list"></a>auth_list</div><div id="entryid_9" class="content doc_content"><p>&#126;authlist est une <a href="core.html#Prsentationdesfonctionsdeliste">fonction de liste</a>&nbsp; qui permet de lister les propriétés d'un compte. Les informations relatives à ces propriétés sont renvoyées par la fonction &#126;auth_listfld.</p>
<p>La fonction prend deux arguments plus les sélecteurs:</p>
<ul>
<li>uid du propriétaire des zones à lister (0 pour ADMIN)</li>
<li>uid de l'utilisateur dont il faut lister les utilisateur à traiter</li>
<li>les sélecteurs</li>
</ul>
<p>Les sélecteurs supportés par cette fonction sont LM, LF, LL, L1 et LD.</p>
<p>Code d'erreur renvoyé par la fonction :</p>
<ul>
<li>-103 : impossible d'utiliser cette fonction car l'utilisateur n'est pas connecté</li>
<li>-200 : erreur de paramètre</li>
</ul></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_listfld"><div class="doc_title_entry"><a id="auth_listfld"></a>auth_listfld</div><div id="entryid_10" class="content doc_content"><p>&#126;auth_listfld renvoie la valeur de la propriété d'un compte listé par la fonction &#126;authlist.</p>
<p>La fonction prend un argument obligatoire et un optionnel. Le premier argument peut être :</p>
<ul>
<li>user : nom du compte</li>
<li>valid : état de validité du compte : 
<ul>
<li>-2 : Non, Email OK</li>
<li>-1 : Non</li>
<li>0 : à confirmer</li>
<li>1 : Oui (confirmé)</li>
</ul>
</li>
<li>email : adresse mail du compte</li>
<li>ipaddr : adresse ip du compte</li>
<li>creation : date de création du compte (format : AAAAMMJJhhmm)</li>
<li>uid : numéro d'identifiant du compte</li>
<li>area : nom de la zone</li>
<li>name : valeur du label de la zone</li>
<li>val : niveau de droit de l'utilisateur dans la zone</li>
</ul>
<p><br>Exemple d'utilisation des commandes &#126;authlist et &#126;authfld :</p>
<pre class="doc_code code">&#126;authlist(&#126;get('uid_zone'),&#126;get('uid') <br>"LF",&lt;![LF[<br>&nbsp;&nbsp; &nbsp;user : &#126;authfld("user"),&lt;br /&gt;c<br>&nbsp;&nbsp; &nbsp;email :&#126;authfld("email"),&lt;br /&gt;<br>&nbsp;&nbsp; &nbsp;valid : &#126;authfld("valid"),&lt;br /&gt;<br>&nbsp;&nbsp; &nbsp;ipaddr :&#126;authfld("ipaddr"),&lt;br /&gt;<br>&nbsp;&nbsp; &nbsp;creation : &#126;authfld("creation"),&lt;br /&gt;<br>&nbsp;&nbsp; &nbsp;uid : &#126;authfld("uid")'&lt;br /&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]LF]&gt;,&nbsp;&nbsp; &nbsp;<br>"LM",&lt;![LM[<br>&nbsp;&nbsp; &nbsp;Nom de la zone : &#126;authfld("area"),&lt;br /&gt;<br>&nbsp;&nbsp; &nbsp;Label de la zone : &#126;authfld("name"),&lt;br /&gt;<br>&nbsp;&nbsp; &nbsp;Niveau de droit de l\'utilisateur sur cette zone : &#126;authfld("val"),&lt;br /&gt;<br>]LM]&gt;)</pre>
<p>Pour certains des champs il est possible de positionner un deuxième paramètre qui permet d'indiquer la forme sous laquelle le champs doit être retourné.</p>
<p>Si le premier est argument est:</p>
<ul>
<li>valid: le deuxième argument peut être:</li>
</ul>
<ul>
<li>&nbsp; 
<ul>
<li>1: l'état du compte sera affiché sous forme de zone de saisie HTML.<br>Les labels peuvent être passés de la même manière que précédement.</li>
<li>2: l'état du compte sera affiché sous forme de chaîne: 
<ul>
<li>No, Email OK : Compte non validé dont l'email est validé</li>
<li>No : Compte non valide</li>
<li>Conf : En attente de confirmation de l'email par l'utilisateur</li>
<li>Yes : Compte valide<br><br>Les labels peuvent également être passés en paramètres:</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre class="doc_code code">&#126;authfld("valid",1)<br>&#126;authfld("valid",2)<br>&#126;authfld("valid",1,"Compte non validé dont l'email est validé",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "Compte non valide",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "En attente de confirmation de l'email par l'utilisateur",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "Compte valide")<br>&#126;authfld("valid",2,"Compte non validé dont l'email est validé",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "Compte non valide",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "En attente de confirmation de l'email par l'utilisateur",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "Compte valide")</pre>
<ul>
<li>email: le deuxième argument peut être: 
<ul>
<li>1: l'email sera affiché sous forme de zone de saisie HTML.</li>
</ul>
</li>
</ul>
<ul>
<li>val: le deuxième argument peut être: 
<ul>
<li>1: le niveau de droit sera affiché sous forme de zone de saisie HTML.</li>
</ul>
</li>
</ul></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_passwd"><div class="doc_title_entry"><a id="auth_passwd"></a>auth_passwd</div><div id="entryid_11" class="content doc_content"><p>Cette fonction permet de modifier le mot de passe d'un utilisateur.</p>
<p>La fonction prend trois arguments :</p>
<ul>
<li>uid : numéro uid de l'utilisateur à modifier (seul les comptes administrateur peuvent modifier le mot de passe d'un autre utilisateur)</li>
<li>oldpassword : ancien mot de passe</li>
<li>newpassword : nouveau mot de passe</li>
</ul>
<p>Code d'erreur renvoyé par la fonction :</p>
<ul>
<li>-1 : utilisateur inexistant</li>
<li>-5 : ancien mot de passe invalide</li>
<li>-105 : impossible d'utiliser cette fonction car l'utilisateur n'est pas authentifié</li>
<li>-106 : le nouveau password ne peut pas être une chaîne vide</li>
<li>-107 : vous ne pouvez pas modifier le mot de passe de cette utilisateur</li>
</ul>
<p>Exemple:</p>
<pre class="doc_code code">&#126;auth_passw(1065486181, "ancienmotdepasse", "nouveaumotdepasse")<br></pre></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_loginnick"><div class="doc_title_entry"><a id="auth_loginnick"></a>auth_loginnick</div><div id="entryid_12" class="content doc_content"><p>Cette fonction permet de modifier l'identifiant de connexion (login) et le pseudo (nickname) d'un utilisateur.</p>
<p>La fonction prend trois arguments :</p>
<ul>
<li>uid : numéro uid de l'utilisateur à modifier</li>
<li>login : nouvel identifiant de connexion</li>
<li>nickname : nouveau pseudo</li>
</ul>
<p>Code d'erreur renvoyé par la fonction :</p>
<ul>
<li>-1 : utilisateur inexistant</li>
<li>-107 : vous n'avez pas le droit d'utiliser cette fonction</li>
<li>-118 : login ou nickname mal formaté</li>
</ul>
<p>Exemple d'utilisation de la fonction &#126;auth_loginnick :</p>
<pre class="doc_code code">&#126;auth_loginnick(1065486181, "nouveaupseudo", "nouveaunickname")<br></pre></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_newmail"><div class="doc_title_entry"><a id="auth_newmail"></a>auth_newmail</div><div id="entryid_13" class="content doc_content"><p>Cette fonction permet d'effectuer une demande de modification de l'adresse électronique d'un utilisateur.</p>
<p>La fonction prend trois paramètres :</p>
<ul>
<li>email : nouvelle adresse électronique</li>
<li>subject : sujet du message électronique envoyé</li>
<li>message : message du message électronique envoyé</li>
</ul>
<p>Dans le corps du message vous avez accès aux variables suivantes :</p>
<ul>
<li>auth_email : qui contient la nouvelle adresse électronique</li>
<li>auth_validkey : qui contient un code d'activation utilisé par la fonction &#126;auth_setnewmail</li>
</ul>
<p>Code d'erreur renvoyé par la fonction :</p>
<ul>
<li>-102 : erreur lors de l'envoi du message électronique</li>
<li>-103 : impossible d'utiliser cette fonction car l'utilisateur n'est pas connecté</li>
</ul>
<p>Exemple d'utilisation de la fonction &#126;auth_newmail :</p>
<pre class="doc_code code">&#126;auth_newmail("newmail@domain.org",<br>'Changement de votre adresse email',<br>'Bonjour,<br><br>Vous avez demandé le changement de votre adresse email.<br><br>Pour valider cette demande vous devez charger cette page :<br>&nbsp;&#126;getconf('site_url')&#126;absolute_templeet()my_account/setnewemail,&#126;get("auth_uid"),&#126;get("auth_email"),&#126;get("auth_validkey").html<br>&nbsp;<br>&nbsp;--<br>&nbsp;Ce site est géré par Templeet<br>')<br><br></pre></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_setnewmail"><div class="doc_title_entry"><a id="auth_setnewmail"></a>auth_setnewmail</div><div id="entryid_14" class="content doc_content"><p>Cette fonction permet de valider la demande de modification de l'adresse électronique d'un utilisateur.</p>
<p>La fonction prend trois paramètres :</p>
<ul>
<li>uid : numéro uid de l'utilisateur à modifier</li>
<li>email : nouvelle adresse électronique</li>
<li>key : code d'activation</li>
</ul>
<p>Code d'erreur renvoyé par la fonction :</p>
<ul>
<li>-6 : le code d'activation est invalide</li>
<li>-103 : : impossible d'utiliser cette fonction car l'utilisateur n'est pas connecté</li>
</ul>
<p>L'exemple suivant utilise les paramètres transmis à la page my_account/setnewemail.html de l'exemple de la fonction &#126;auth_newmail:</p>
<pre class="doc_code code">&#126;auth_setnewmail(<br>&nbsp;&nbsp; &nbsp;&#126;get_filenamevar(1), --&gt; ce paramètre contient la valeur de &#126;get("auth_uid")<br>&nbsp;&nbsp; &nbsp;&#126;get_filenamevar(2), --&gt; ce paramètre contient la valeur de &#126;get("auth_email")<br>&nbsp;&nbsp; &nbsp;&#126;get_filenamevar(3)&nbsp; --&gt; ce paramètre contient la valeur de &#126;get("auth_validkey")<br>)<br></pre></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_updateprofile"><div class="doc_title_entry"><a id="auth_updateprofile"></a>auth_updateprofile</div><div id="entryid_15" class="content doc_content"><p>Cette fonction met à jour les données de profil d'un utilisateur.</p>
<p>La fonction prend deux paramètres :</p>
<ul>
<li>uid : numéro uid de l'utilisateur à modifier</li>
<li>profil: tableau de données privées</li>
</ul>
<p>&nbsp;</p>
<p>Exemple d'utilisation de la fonction &#126;auth_updateprofile :</p>
<pre class="doc_code code">profile["nom"]='Germain';<br>profile["ville"]='Toulouse';<br><br>auth_updateprofile(auth_uid,profile);<br><br></pre></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_updateprivateinfo"><div class="doc_title_entry"><a id="auth_updateprivateinfo"></a>auth_updateprivateinfo</div><div id="entryid_16" class="content doc_content"><p class="doc_warning warning">Cette fonction est obsolète. Elle a été remplacée par <a href="#auth_updateprofile">auth_updateprofile</a>.</p></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_setprivuser"><div class="doc_title_entry"><a id="auth_setprivuser"></a>auth_setprivuser</div><div id="entryid_17" class="content doc_content"><p>Cette fonction permet définir le niveau de privilège d'un utilisateur sur une ou plusieurs zones.</p>
<p>Elle prend deux paramètres :</p>
<ul>
<li>uid : numéro d'index de l'utilisateur à modifier</li>
<li>privarea : tableau contenant les nouveaux privilèges (voir ci-dessous la structure de ce tableau)</li>
</ul>
<p>Chaque clé du tableau privarea correspond à une zone, et la valeur de cette clé correspond au niveau de privilège. Une zone est identifiée comme ceci : "{numéro_uid_du_propriétaire_de_la_zone}nom_de_la_zone".</p>
<p>NOTE : la valeur uid du compte ADMIN est 0</p>
<p>Code d'erreur renvoyé par la fonction :</p>
<ul>
<li>-103 : utilisateur non identifié (un comtpe doit être ouvert pour effectuer des changements de privilège)</li>
</ul>
<p>Exemple:</p>
<pre class="doc_code code">&#126;auth_setprivuser(1065486181,<br>&nbsp;&nbsp; &nbsp;&#126;array(<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;'{413980100}zone1' =&gt; 4,<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;'{413980100}zone2' =&gt; 0,<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;'{0}zoneA' =&gt; 9<br>&nbsp;&nbsp; &nbsp;)<br>)<br></pre></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_setpriv"><div class="doc_title_entry"><a id="auth_setpriv"></a>auth_setpriv</div><div id="entryid_18" class="content doc_content"><p>Cette fonction permet de modifier toutes les informations liées à un utilisateur (hors profil).<br><br>Cette fonction est très complexe et très peu utilisée. Si quelqu'un veut écrire la doc, ce sera avec plaisir.</p></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_emailislogin"><div class="doc_title_entry"><a id="auth_emailislogin"></a>auth_emailislogin</div><div id="entryid_19" class="content doc_content"><p>Cette fonction renvoit TRUE ou FALSE selon que Templeet a été configuré ou non pour utiliser l'adresse email de l'utilisateur comme login.</p></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_readfields"><div class="doc_title_entry"><a id="auth_readfields"></a>auth_readfields</div><div id="entryid_20" class="content doc_content"><p>Cette fonction permet d'obtenir sous forme de tableau la liste des champs définis dans le profil.</p>
<p>Elle ne prend pas de paramètres.<br></p></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div></div><div class="text_bloc doc_bloc" id="blocidcontent_3">
<div class="doc_entry" id="doc_entry_auth_newarea"><div class="doc_title_entry"><a id="auth_newarea"></a>auth_newarea</div><div id="entryid_21" class="content doc_content"><p>Cette fonction permet de créer une nouvelle zone.</p>
<p>La fonction prend trois paramètres :</p>
<ul>
<li>userspace : uid de l'environnement d'authentification.</li>
<li>areaname : nom de la zone.</li>
<li>arealabel : nom littéral de la zone.</li>
</ul>
<p>Code d'erreur renvoyé par la fonction :</p>
<ul>
<li>-108 : paramètre areaname mal formaté</li>
<li>-109 : paramètre arealabel mal formaté</li>
<li>-110 : une zone porte déjà le même nom (areaname)</li>
<li>-117 : vous ne pouvez pas créer une nouvelle zone car le nombre maximal de zones a été atteint</li>
</ul>
<p>Exemple:</p>
<pre class="doc_code code">&#126;auth_newarea(4577458, "zone_truc", "Ceci est la zone truc")<br></pre></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_delarea"><div class="doc_title_entry"><a id="auth_delarea"></a>auth_delarea</div><div id="entryid_22" class="content doc_content"><p>Cette fonction permet de supprimer une zone.</p>
<p>La fonction prend deux paramètres :</p>
<ul>
<li>userspace : uid de l'environnement d'authentification.</li>
<li>areaname : nom de la zone à supprimer</li>
</ul>
<p>Code d'erreur renvoyé par la fonction :</p>
<ul>
<li>-108 : paramètre areaname mal formaté</li>
<li>-111 : impossible de supprimer la zone "admin" du compte 0 (administrateur)</li>
</ul>
<p>Exemple:</p>
<pre class="doc_code code">&#126;auth_delarea(4577458, "zone_truc")<br></pre></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_setarea"><div class="doc_title_entry"><a id="auth_setarea"></a>auth_setarea</div><div id="entryid_23" class="content doc_content"><p>Cette fonction permet de modifier le champ label d'une zone.</p>
<p>La fonction prend trois paramètres :</p>
<ul>
<li>userspace : uid de l'environnement d'authentification.</li>
<li>areaname : nom de la zone à modifier.</li>
<li>arealabel : nouvelle valeur du label (nom littéral) de la zone.</li>
</ul>
<p>Code d'erreur renvoyé par la fonction :</p>
<ul>
<li>-108 : paramètre areaname mal formaté</li>
<li>-109 : paramètre arealabel mal formaté</li>
</ul>
<p>Exemple:</p>
<pre class="doc_code code">&#126;auth_setarea(4577458, "zone_truc", "Nouveau nom")<br></pre></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_listarea"><div class="doc_title_entry"><a id="auth_listarea"></a>auth_listarea</div><div id="entryid_24" class="content doc_content"><p>&#126;auth_list est une <a href="core.html#Prsentationdesfonctionsdeliste">fonction de liste</a> qui permet de lister les zones existantes. Les informations relatives à ces zones sont renvoyées par la fonction &#126;auth_listareafld.</p>
<p>La fonction prend trois arguments au minimum :</p>
<ul>
<li>userspace : uid de l'environnement d'authentification.</li>
<li>les sélecteurs</li>
</ul>
<p>Les sélecteurs supportés par cette fonction sont : LF, LM, LL, L1 et LD. <br></p>
<p>Code d'erreur renvoyé par la fonction :</p>
<ul>
<li>-103 : aucun utilisateur identifié</li>
<li>-200 : erreur de paramètre</li>
</ul>
<ul>
</ul></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_listareafld"><div class="doc_title_entry"><a id="auth_listareafld"></a>auth_listareafld</div><div id="entryid_25" class="content doc_content"><p>&#126;auth_listareafld renvoie la valeur d'un champ de la zone listé par la fonction &#126;auth_listarea.</p>
<p>La fonction prend un seul argument. Celui-ci peut être :</p>
<ul>
<li>name : nom de la zone</li>
<li>label : label de la zone</li>
</ul>
<p>Exemple d'utilisation des commandes &#126;auth_listarea et &#126;auth_listareafld :</p>
<pre class="doc_code code">&#126;auth_listarea(0,<br>"LD", "pas de zone",<br>"LM", '&#126;auth_listareafld("name"), &#126;auth_listareafld("label")\n')<br><br></pre></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div></div><div class="text_bloc doc_bloc" id="blocidcontent_4">
<div class="doc_entry" id="doc_entry_auth_validmode"><div class="doc_title_entry"><a id="auth_validmode"></a>auth_validmode</div><div id="entryid_26" class="content doc_content"><p>Cette fonction renvoie le mode de validation courant.</p>
<ul>
<li>valeur "YES" qui correspond au mode "Oui" : les comptes sont valides immédiatement.</li>
<li>valeur "NO" qui correspond au mode "Non" : les comptes doivent être validés par un administrateur.</li>
<li>valeur "CONFIRM" qui correspond au mode "A Confirmer" : les comptes doivent être validés par l'utilisateur avec un code qui lui est envoyé par mail. Ce mode ne fonctionne que si le serveur possède un système de mail correctement configuré.</li>
<li>valeur "CONFADMIN" qui correspond au mode "Double confirmation" : les comptes créés doivent être validés par l'utilisateur sur réception d'un mail contenant le code d'activation. Les comptes doivent ensuite être validés par un administrateur.</li>
</ul>
<p>Exemple:</p>
<pre class="doc_code code">Mode de validation des comptes Templeet actuel : &#126;auth_validmode()<br></pre></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_validaccount"><div class="doc_title_entry"><a id="auth_validaccount"></a>auth_validaccount</div><div id="entryid_27" class="content doc_content"><p>&#126;auth_validaccount permet soit de mettre un nouveau mot de passe quand celui-ci a été perdu soit de valider un compte précédemment créé .<br></p>
<p>Dans le premier cas la fonction prend trois arguments:</p>
<ul>
<li>user : nom du compte à valider</li>
<li>key : clef</li>
<li>password : mot de passe du compte à valider</li>
</ul>
<p>Dans le second cas la fonction prend six arguments:</p>
<ul>
<li>user : nom du compte à valider</li>
<li>key : clef</li>
<li>une chaîne vide</li>
</ul>
<ul>
<li>subject : sujet du mail à envoyer à l'administrateur du site</li>
<li>message : message du mail à envoyer à l'administrateur du site</li>
<li>un tableau d'entêtes supplémentaires à envoyer (optionnel)<br></li>
</ul>
<p class="doc_tip tip">en mode de validation CONFADMIN, un mail est envoyé à l'administateur du site pour l'informer qu'un compte a été créé afin qu'il le valide.</p>
<p>Code d'erreur renvoyé par la fonction:</p>
<ul>
<li>-1 : utilisateur non inexistant.</li>
<li>-6 : clé non valide.</li>
<li>-102 : problème lors de l'envoi du mail</li>
</ul></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_setconfvalid"><div class="doc_title_entry"><a id="auth_setconfvalid"></a>auth_setconfvalid</div><div id="entryid_28" class="content doc_content"><p>Cette fonction permet de modifier le mode de validation courant des comptes.</p>
<p>Cette fonction prend un seul paramètre :</p>
<ul>
<li>valid : mode de validation à paramétrer, celui-ci peut être :
<ul>
<li>"YES"</li>
<li>"NO"</li>
<li>"CONFIRM"</li>
<li>"CONFADMIN"<br></li>
</ul>
</li>
</ul>
<p class="doc_tip tip">voir la correspondance dans la documentation de la fonction <a href="#auth_validmode">&#126;auth_validmode</a></p>
<p><br>Code d'erreur renvoyé par la fonction :</p>
<ul>
<li>-104 : le paramètre mode est invalide</li>
<li>-116 : impossible de sélectionner le mode CONFADMIN car l'adresse électronique de l'administrateur est indéfini</li>
</ul></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div><div class="doc_entry" id="doc_entry_auth_setkeypass"><div class="doc_title_entry"><a id="auth_setkeypass"></a>auth_setkeypass</div><div id="entryid_29" class="content doc_content"><p>Cette fonction permet d'envoyer à un utilisateur qui a perdu son mot de passe un message avec une clef à usage unique pour saisir un nouveau mot de passe.</p>
<p>Elle prend cinq paramètres:</p>
<ul>
<li>userspace: l'environnement d'authentification</li>
<li>login</li>
<li>sujet de message</li>
<li>corps du message</li>
<li>entêtes supplémentaires (optionnel)</li>
</ul>
<p>Le sujet ou le corps du message doivent inclure la variable auth_validkey. Cette clef est à passer à &#126;auth_validaccount() avec le nouveau mot de passe.</p></div>
<div class="doc_linktop"><a href="#top"><span class="doc_linktop">Revenir en haut</span></a></div>
</div></div></div><div id="doc_footer"></div>
</div>

</div>

</td></tr>

<tr><td style="height: 12px;"><img src="../skins/classic/corner_bottom.png" alt="corner_bottom" style="display: block;" /></td>
<td style="vertical-align: bottom;"><img src="../skins/classic/pix.png" style="display: block; width: 100%; height: 1px;" alt="pix" /></td></tr>
</table>
</div>

<div class="footer">
<table style="width: 100%;">
<tr><td style="width: 100%;vertical-align: top;padding-left: 5px;">
<div>
<span id="snapshot" style="position: relative;"
                            onmouseover="toggleDiv('executedtime',1,event)"
                            onmouseout="toggleDiv('executedtime',0)"><script type="text/javascript">
//<![CDATA[
dskin("snapshot",{ "&SNAPSHOT&" : "201606171145"});
//]]>
</script> 
</span>
<div id="executedtime" class="floatwin" style="top: 10px;"><script type="text/javascript">
//<![CDATA[
dskin("executetime",{ "&TIME&" : "0,2279"});
//]]>
</script>
</div>

<br />
<a href="#" onmousedown="validxhtml()"><img src="../auth/icons/valid-xhtml10.png" alt="valid-xhtml10.png" /></a>
<div style="display: none;">
  <form id="formid" method="post" enctype="multipart/form-data" action="http://validator.w3.org/check">
    <div>
      <textarea id="fragment" name="fragment" rows="12" cols="80"></textarea>
      <input title="Submit for validation" type="submit" value="Check" />
    </div>
  </form>
</div>
</div>
</td><td><a href="http://www.templeet.org/"><img src="../auth/icons/powered_by_templeet.png"
style="padding: 5px;display: block;" alt="powered_by_templeet" /></a>
</td></tr>
</table>
</div>
<img src="../skins/classic/pix.png" style="display: block; height: 1px; width: 100%;" alt="pix" />
</div>
</body>
</html>
